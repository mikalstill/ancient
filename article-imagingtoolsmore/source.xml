
<?xml version="1.0" encoding="UTF-8"?>

<?xml-stylesheet type="text/xsl" href="C:\Documents and Settings\Administrator\My Documents\Articles\1 - Templates\dw-document-html-2.1.xsl"?>
<dw-document xmlns:dw="http://www.ibm.com/developerWorks/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="C:\Documents and Settings\Administrator\My Documents\Articles\1 - Templates\dw-document-2.1.xsd">

<!-- SKILL LEVEL 
If known, specify the (skill) level, 1 to 5 -->
<dw-article toc="auto" ratings="auto" level="1" localsite="worldwide" related_contents="auto">
<id domino-uid=""/>

<meta name="keywords" content="image, raster, imagemagick, convert, rotate, scale, thumbnail, resize, artistic"/>
<!-- Fill in or leave blank for production to fill in.  -->
<meta name="lastupdate" content="2003mmdd your-initials"/>

<zone name="linux"/>

<seriestitle></seriestitle>
<title>More graphics from the command line</title>
<subtitle></subtitle>
<!--  End TITLE -->

<!-- Ignore these lines. -->
<!-- <forumurl url=""/> -->
<!-- <zip url=""/> -->
<!-- <pdf size="" url=""/> -->

<author company="TOWER Software" email="mikal@stillhq.com" jobtitle="Senior Software Engineer" name="Michael Still">
<bio>Michael has been working in the image processing field for several years, including a couple of years managing and developing large image databases for an Australian government department. He currently works for TOWER Software, who manufacture a world leading EDMS and Records Management package named TRIM. Michael is also the developer of Panda, an open source PDF generation API, as well as a bunch of other Open Source code.</bio></author>
<!--  End AUTHOR -->

<!-- DATE INFO
Fill in or leave blank for production to fill in.-->
<date month="12" day="25" year="2003"/>

<abstract miniabstract="">This article discusses commonly used image manipulations using command line tools, mainly from the ImageMagick suite. It expands on the examples from the "Command line imaging tools" article.</abstract>

<column-info col-name="" col-icon=""/>
<docbody>

<p>Earlier this year I wrote an article for IBM DeveloperWorks about image manipulations on the command line using ImageMagick. The article was quite well received, and since then I have fielded many email questions on ImageMagick. This article expands on the techniques discussed in that previous article, as well as answering as many of those questions as I can. If this is the first ImageMagick article from IBM DeveloperWorks that you've found, you would do well to have a look at this first article as well.</p>

<p>This article takes the form of discussing specific problems as examples, but the concepts should be applicable to other problem spaces as well.</p>

<p>It should be noted that there are many ways to do the things discussed in this article. I will only discuss the methods I use, and know work for me. That doesn't mean the other tools out there are broken, it just means that I'm happy with what I am using now.</p>

<heading refname="" type="major" toc="yes" name="" alttoc="">Curving corners</heading>
<p>If you have a look at MacOS X, and many websites, the pictures have quite nice curved corners. How do you achieve this effect with ImageMagick? Well, we're going to have to show some enginuity in producing this effect by using the <b>composite</b> command.</p>

<p>Before we get there though, let's talk about the strategy we're going to emply. If you think about it, an image with curved corners can be made by taking some standard pre-made corners, and superimposing them over the original image. There's no real need for the corners to be curved even -- we could have angled corners, or something much more fancy.</p>

<p>So, the first step is to make some corners. Below is a corner I whipped up in the GIMP. I wont show you all four, as the others are just this one rotated by differing multiples of 90 degrees.</p>

<sidebar>
<heading refname="" type="sidebar" toc="no" name="" alttoc="">The GIMP</heading>
<p>The GIMP, the GNU Image Manipulation Package, is a very useful raster graphics editor, much like Adobe Photoshop. It's great for tweaking images, or for creating your own new pictures. Checkout <a href="http://www.gimp.org">www.gimp.org</a> for more details.</p> 
</sidebar>

<heading refname="" type="figure" toc="no" name="" alttoc="">Figure 1. A curved corner made in the GIMP</heading>
<img src="rounded-ne.png" width="10" height="10" alt="A rounded corner"/>
</figure>

<p>You should note that the curve on this image is actually in white, and the rest of the image is transparent. This transparency will allow the image we are adding the corners to to show through. This can be a little confusing, as some image viewers such as <b>xview</b> will show the transparency in black or some other color.</p>

<heading refname="" type="figure" toc="no" name="" alttoc="">Figure 2. The curved corner displayed with xview</heading>
<img src="rounded-ne-xview.png" width="98" height="57" alt="A rounded corner with xview"/>
</figure>

<p>The actual corner image will become more clear when we superimpose it upon an image, so let's get on with that.</p>

<p>I have a thumbnail which I made earlier of the view from the shore of one of Canberra's lakes. Without the rounded corners, the thumbnail looks like this:</p>

<heading refname="" type="figure" toc="no" name="" alttoc="">Figure 3. Lake Burley Griffin</heading>
<img src="lake.png" width="144" height="192" alt="A lake view"/>
</figure>

<p>To superimpose an image onto another, you use the <b>composite</b> command. Let's just do one corner, to see what happens...</p>

<heading refname="" type="code" toc="no" name="" alttoc="">Listing 1. Rounding one corner</heading>
<code type="section">
composite -gravity NorthEast rounded-ne.png lake.png lake-1.png
</code>

<p>This gives us the following image:</p>

<heading refname="" type="figure" toc="no" name="" alttoc="">Figure 4. Lake Burley Griffin with one rounded corner</heading>
<img src="lake-1.png" width="144" height="192" alt="A lake view"/>
</figure>

<p>So let's do the rest of the corners...</p>

<heading refname="" type="code" toc="no" name="" alttoc="">Listing 2. Rounding all of the corners</heading>
<code type="section">
composite -gravity NorthEast rounded-ne.png lake.png lake-1.png
composite -gravity NorthWest rounded-nw.png lake-1.png lake-2.png
composite -gravity SouthEast rounded-se.png lake-2.png lake-3.png
composite -gravity SouthWest rounded-sw.png lake-3.png lake-4.png
</code>

<p>Which gives us the finished image:</p>

<heading refname="" type="figure" toc="no" name="" alttoc="">Figure 5. Lake Burley Griffin with rounded corners</heading>
<img src="lake-4.png" width="144" height="192" alt="A lake view"/>
</figure>

<p>Which looks kinda cool in my humble opinion.</p>

</docbody>

<relatedlist>
<a href="http://www-106.ibm.com/developerworks/linux/library/l-libtiff/">Graphics programming with libtiff</a>
<a href="http://www-106.ibm.com/developerworks/linux/library/l-libtiff2/">Graphics programming with libtiff, Part 2</a>
<a href="http://www-106.ibm.com/developerworks/linux/library/l-graf/">Graphics from the command line</a>
</relatedlist>

<resourcelist>
<ul>

<li>The <a href="http://www.imagemagick.org">ImageMagick</a> website is an excellent resource, and offers downloads of the ImageMagick source code.

<li>"<a href="http://www-106.ibm.com/developerworks/linux/library/l-libtiff/">Graphics programming with libtiff</a>" (<i>developerWorks</i>, March 2002) discuesses black and white imaging concepts, with a particular focus on TIFF images.</li>

<li>"<a href="http://www-106.ibm.com/developerworks/linux/library/l-libtiff2/">Graphics programming with libtiff, Part 2</a>" (<i>developerWorks</i>, June 2002) discusses color TIFF images, but also discusses important topics such as which compression scheme is right for you.</li>

<li>The <a href="http://www.stillhq.com/cgi-bin/getpage?area=pngtools">pnginfo</a> is part of the pngtools suite.</li>

</ul>
</resourcelist>
</dw-article>
</dw-document>