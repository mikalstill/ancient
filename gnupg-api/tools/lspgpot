#!/bin/sh
# lspgpot - script to extract the ownertrust values
# from PGP keyrings and list them in GnuPG ownertrust format.

../g10/gpg --dry-run --with-fingerprint --with-colons $* | awk '
BEGIN { FS=":"
	printf "# Ownertrust listing generated by lspgpot\n"
	printf "# This can be imported using the command:\n"
	printf "#    ggp --import-ownertrust\n\n"  }
$1 == "fpr" { fpr = $10 }
$1 == "rtv" && $2 == 1 && $3 == 2 { printf "%s:3:\n", fpr; next }
$1 == "rtv" && $2 == 1 && $3 == 5 { printf "%s:4:\n", fpr; next }
$1 == "rtv" && $2 == 1 && $3 == 6 { printf "%s:5:\n", fpr; next }
'

